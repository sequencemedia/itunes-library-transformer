"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.default=_default;var _fs=require("fs");var _path=require("path");var _userhome=_interopRequireDefault(require("userhome"));var _itunesLibraryStream=_interopRequireDefault(require("@sequencemedia/itunes-library-stream"));var _transformCompilationAlbums=require("./transform-compilation-albums");var _transformAlbums=require("./transform-albums");var _transformPlaylists=require("./transform-playlists");function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _default(filePath=(0,_path.resolve)((0,_userhome.default)(),'Music/iTunes/iTunes Library.xml'),destination=(0,_path.resolve)('./iTunes Library'),ext='m3u8'){(0,_fs.createReadStream)(filePath,'utf8').pipe(_itunesLibraryStream.default.createStream()).on('data',(0,_transformCompilationAlbums.transformCompilationAlbumsToM3U8)(destination,ext)).on('data',(0,_transformAlbums.transformAlbumsToM3U8)(destination,ext)).on('data',(0,_transformPlaylists.transformPlaylistsToM3U8)(destination,ext));}